<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Mbtiìº£í…ŒìŠ¤íŠ¸</title>
  <!-- ê·€ì—½ê³  ë‘¥ê·¼ ì›¹í°íŠ¸ ì¶”ê°€ -->
  <link href="https://cdn.jsdelivr.net/gh/webfontworld/cafe24/Cafe24Ssurround.css" rel="stylesheet" />
  <style>
    body {
      /* font-family: 'Pretendard', sans-serif; */
      background-color: #fff0f5;
      color: #333;
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 2rem;
      transition: background-color 0.3s, color 0.3s;
    }

    @media (prefers-color-scheme: dark) {
      body {
        background-color: #1e1e1e;
        color: #f0f0f0;
      }

      .question-box {
        background: #2b2b2b;
        border-color: #ff69b4;
      }

      .answers button {
        background-color: #ffb6c1;
        color: #000;
      }

      .answers button:hover {
        background-color: #ff69b4;
      }
    }

    h1 {
      text-align: center;
      margin-bottom: 2rem;
    }

    .headline {
      color: hotpink;
      font-size: 2.5rem;
      font-weight: 800;
      font-family: 'Cafe24Ssurround', 'Pretendard', sans-serif;
    }

    .question-box {
      background: #ffeef5;
      border: 2px solid #d36ba6;
      border-radius: 16px;
      padding: 2rem;
      max-width: 600px;
      width: 100%;
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
      margin-bottom: 2rem;
      text-align: center;
    }

    .question {
      font-size: 1.2rem;
      margin-bottom: 1.5rem;
    }

    .answers {
      display: flex;
      justify-content: center;
      gap: 1.5rem;
      flex-wrap: wrap;
    }

    .answers button {
      padding: 0.8rem 2rem;
      border: none;
      border-radius: 12px;
      background-color: #f8c8dc;
      font-size: 1rem;
      cursor: pointer;
      transition: background-color 0.3s;
    }

    .answers button:hover {
      background-color: #f4a6c1;
    }

    #result {
      font-size: 1.4rem;
      color: #333;
      margin-top: 2rem;
      text-align: center;
    }

    #result-photo {
      margin-top: 2rem;
      border: 5px solid hotpink;
      border-radius: 12px;
      display: inline-block;
    }

    #result-photo img {
      width: 100%;
      max-width: 1000px;
    }

    .mbti-type {
      color: hotpink;
      font-size: 2rem;
      font-weight: bold;
    }

    .share-buttons {
      margin-top: 2rem;
      display: flex;
      gap: 1rem;
      flex-wrap: wrap;
      justify-content: center;
    }

    .share-buttons button {
      background-color: #ffb6c1;
      border: none;
      padding: 0.7rem 1.5rem;
      border-radius: 10px;
      cursor: pointer;
      font-size: 1rem;
      transition: background-color 0.3s;
    }

    .share-buttons button:hover {
      background-color: #ff69b4;
      color: white;
    }
  </style>
</head>
<body>
  <h1>
    <span class="headline">MBTI ìº£ í…ŒìŠ¤íŠ¸!</span><br />
    ë‚˜ë‘ ë‹®ì€ ê³ ì–‘ì´ ì„±ê²©ì€?
  </h1>

  <div class="question-box" id="question-box">
    <div class="question" id="question">ë¡œë”© ì¤‘...</div>
    <div class="answers">
      <button onclick="answer('yes')">ì˜ˆ</button>
      <button onclick="answer('no')">ì•„ë‹ˆì˜¤</button>
    </div>
  </div>

  <div id="result"></div>
  <div id="result-photo"></div>
  <div class="share-buttons" id="share-buttons" style="display:none;">
    <button onclick="copyLink()">ë§í¬ ë³µì‚¬</button>
    <button onclick="shareKakao()">ì¹´ì¹´ì˜¤í†¡ ê³µìœ </button>
  </div>

  <script>
    const questions = [
      { q: "ì‚¬ëŒë“¤ê³¼ ì–´ìš¸ë¦´ ë•Œ ì—ë„ˆì§€ê°€ ì¶©ì „ë¼ìš”.", type: "E" },
      { q: "í˜¼ì ìˆëŠ” ì‹œê°„ì´ ê¼­ í•„ìš”í•´ìš”.", type: "I" },
      { q: "íŒŒí‹°ë³´ë‹¤ ì¡°ìš©í•œ ê³µê°„ì´ ë” í¸í•´ìš”.", type: "I" },
      { q: "ë‚¯ì„  ì‚¬ëŒê³¼ ëŒ€í™”í•˜ëŠ” ê²Œ ì–´ë µì§€ ì•Šì•„ìš”.", type: "E" },
      { q: "êµ¬ì²´ì ì¸ ì •ë³´ë‚˜ ì‚¬ì‹¤ì´ ë” ì‹ ë¢°ë¼ìš”.", type: "S" },
      { q: "ìƒìƒí•˜ê³  ê³µìƒí•˜ëŠ” ê±¸ ì¢‹ì•„í•´ìš”.", type: "N" },
      { q: "ì‹¤ìš©ì ì¸ ê²ƒì´ ë” ì¤‘ìš”í•˜ë‹¤ê³  ìƒê°í•´ìš”.", type: "S" },
      { q: "ë³´ì´ì§€ ì•ŠëŠ” ê°€ëŠ¥ì„±ì— ë” ëŒë ¤ìš”.", type: "N" },
      { q: "ê²°ì •í•  ë•Œ ë…¼ë¦¬ì™€ ê·¼ê±°ë¥¼ ë”°ì ¸ìš”.", type: "T" },
      { q: "ìƒëŒ€ë°©ì˜ ê°ì •ì„ ë¨¼ì € ìƒê°í•´ìš”.", type: "F" },
      { q: "ëƒ‰ì •í•˜ì§€ë§Œ ê³µì •í•˜ê²Œ íŒë‹¨í•´ìš”.", type: "T" },
      { q: "ëˆ„êµ°ê°€ í˜ë“¤ì–´í•˜ë©´ í•¨ê»˜ ê³µê°í•´ìš”.", type: "F" },
      { q: "ê³„íš ì„¸ìš°ëŠ” ê±¸ ì¢‹ì•„í•´ìš”.", type: "J" },
      { q: "ì¦‰í¥ì ì¸ ê²Œ ë” ì¬ë°Œì–´ìš”.", type: "P" },
      { q: "ì •ë¦¬ì •ëˆì´ ì˜ ë˜ì–´ ìˆì–´ì•¼ ë§ˆìŒì´ í¸í•´ìš”.", type: "J" },
      { q: "ìƒí™©ì— ë”°ë¼ ìœ ì—°í•˜ê²Œ ì›€ì§ì´ëŠ” í¸ì´ì—ìš”.", type: "P" },
      { q: "ë§ˆê°ì´ ìˆì–´ì•¼ ì¼ì´ ì†ì— ì¡í˜€ìš”.", type: "P" },
      { q: "ì„ ë¬¼ë³´ë‹¨ ì§„ì‹¬ì´ ì¤‘ìš”í•˜ë‹¤ê³  ìƒê°í•´ìš”.", type: "F" },
      { q: "í˜„ì¬ë³´ë‹¤ ë¯¸ë˜ë¥¼ ë” ë§ì´ ìƒê°í•´ìš”.", type: "N" },
      { q: "ì§€ì  ëŒ€í™”ë¥¼ ì¢‹ì•„í•´ìš”.", type: "T" },
    ];

    let index = 0;
    const scores = { E: 0, I: 0, S: 0, N: 0, T: 0, F: 0, J: 0, P: 0 };

    const questionEl = document.getElementById("question");
    const resultEl = document.getElementById("result");
    const questionBox = document.getElementById("question-box");

    function showQuestion() {
      if (index >= questions.length) {
        showResult();
        return;
      }
      questionEl.textContent = questions[index].q;
    }

    function answer(choice) {
      const type = questions[index].type;
      if (
        (type === "E" || type === "S" || type === "T" || type === "J") &&
        choice === "yes"
      ) {
        scores[type]++;
      } else if (
        (type === "I" || type === "N" || type === "F" || type === "P") &&
        choice === "yes"
      ) {
        scores[type]++;
      }
      index++;
      showQuestion();
    }

    function showResult() {
      questionBox.style.display = "none";
      document.getElementById("share-buttons").style.display = "flex";

      const mbti = [
        scores.E >= scores.I ? "E" : "I",
        scores.S >= scores.N ? "S" : "N",
        scores.T >= scores.F ? "T" : "F",
        scores.J >= scores.P ? "J" : "P",
      ].join("");

      const typeNames = {
        ISTJ: "ğŸ§¹ ê·œì¹™ ì˜ ì§€í‚¤ëŠ” ì§‘ì‚¬í˜• ëƒ¥ì´",
        ISFJ: "ğŸ›ï¸ ë‹¤ì •í•œ ì´ë¶ˆ ì† ë³´ì‚´ëƒ¥",
        ESTJ: "ğŸ“‹ ëƒ¥ê³„ì˜ ë¦¬ë”, ì•¼ì˜¹ëŒ€ì¥ë‹˜",
        ESFJ: "ğŸ¾ ì¹œêµ¬ ë§ì€ ì‚¬êµëƒ¥ ëŒ€ëª¨",
        INFJ: "ğŸŒ™ ì¡°ìš©í•œ íë§ ë§ˆìŠ¤í„°ëƒ¥",
        INFP: "ğŸ¨ ë‚­ë§Œ ê°€ë“ ì˜ˆìˆ ëƒ¥",
        ENFJ: "ğŸ“£ ë™ë„¤ ì˜¤ì§€ë–ëƒ¥ ì„ ë°°",
        ENFP: "ğŸ§­ ì¢…íš¡ë¬´ì§„ í˜¸ê¸°ì‹¬ ëŒ€ì¥ëƒ¥",
        ISTP: "ğŸ› ï¸ ê³ ì¥ë‚œ ì¥ë‚œê° í•´ì²´ëƒ¥",
        ISFP: "ğŸ§ ê°ì„±ì¶©ë§Œ ë°©êµ¬ì„ DJëƒ¥",
        ESTP: "ğŸ›´ ì‚¬ê³ ëŠ” ë‚´ê°€ ì¹ ê²Œëƒ¥",
        ESFP: "ğŸŒŸ ê´€ì‹¬ì€ ë‚˜ì•¼ë‚˜! ì¸ê¸°ëƒ¥",
        INTJ: "ğŸ§© ê³„íšë§Œë ™ ì „ëµëƒ¥",
        INTP: "ğŸ“š ê¶ê¸ˆëƒ¥ ë°©êµ¬ì„ ì² í•™ì",
        ENTJ: "ğŸ¦ ëƒ¥ê³„ CEO, ì•¼ë§ëƒ¥",
        ENTP: "ğŸ” ëª¨ë“  ê±¸ ìºë¬»ëŠ” í† ë¡ ëƒ¥",
      };

      resultEl.innerHTML = ë‹¹ì‹ ì€ <span class="mbti-type">${mbti}</span>í˜•, ${typeNames[mbti]}!;

      //let imgsrc = mbti.toLowerCase() + ".PNG";
      let imgsrc = "https://raw.githubusercontent.com/heogayeoug/index.html/refs/heads/main/" + mbti.toLowerCase() + ".png";
      let mbtiimg = <img src='${imgsrc}' alt='${mbti} ê³ ì–‘ì´'>;
      
      document.getElementById("result-photo").innerHTML = mbtiimg;
    }

    function copyLink() {
      navigator.clipboard.writeText(location.href).then(() => {
        alert("ë§í¬ê°€ ë³µì‚¬ë˜ì—ˆì–´ìš”!");
      });
    }

    function shareKakao() {
      const url = location.href;
      const title = "ê³ ì–‘ì´ MBTI í…ŒìŠ¤íŠ¸";
      const description = "ë‚˜ë‘ ë‹®ì€ ê³ ì–‘ì´ ì„±ê²©ì€ ë­˜ê¹Œ?";
      const imageUrl = location.origin + "/ogimage.jpg";

      if (window.Kakao) {
        Kakao.Share.sendDefault({
          objectType: 'feed',
          content: {
            title: title,
            description: description,
            imageUrl: imageUrl,
            link: {
              mobileWebUrl: url,
              webUrl: url,
            },
          },
          buttons: [
            {
              title: 'í…ŒìŠ¤íŠ¸ í•˜ëŸ¬ ê°€ê¸°',
              link: {
                mobileWebUrl: url,
                webUrl: url,
              },
            },
          ],
        });
      } else {
        alert("ì¹´ì¹´ì˜¤ SDKê°€ ë¡œë“œë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.");
      }
    }

    showQuestion();
  </script>

  <!-- Kakao SDK -->
  <script src="https://developers.kakao.com/sdk/js/kakao.js"></script>
  <script>
    Kakao.init("YOUR_APP_KEY"); // ì—¬ê¸°ì— ë³¸ì¸ì˜ JavaScript í‚¤ ë„£ê¸°
  </script>
</body>
</html>
